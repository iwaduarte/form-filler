(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&c(n)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}})();const r={request:null,database:null,objectStore:null};r.request=indexedDB.open("pdfDatabase",1);r.request.addEventListener("success",s=>{console.log("Success creating/accessing IndexedDB database");const{result:a}=s.target;r.database=a,r.database.onversionchange=()=>{var o;(o=r.database)==null||o.close()},r.database.onerror=o=>{console.log("Database error",o.target.errorCode)}});r.request.onerror=s=>{console.error("Some error occurred:",s)};r.request.onupgradeneeded=s=>{r.database=s.target.result,r.objectStore=r.database.createObjectStore("pdfFiles",{autoIncrement:!0})};const i=()=>new Promise(s=>{if(r.database)return s(r.database);r.request.addEventListener("success",a=>{const{result:o}=a.target;return s(o)})}),d=async s=>{const c=(r.database||await i()).transaction("pdfFiles","readwrite").objectStore("pdfFiles").put(s,0);return new Promise((e,t)=>{c.onerror=n=>(console.log(n.target.errorCode),t(n)),c.onsuccess=n=>e(n)})},u=async()=>{const o=(await i()).transaction("pdfFiles","readwrite").objectStore("pdfFiles").get(0);return new Promise((c,e)=>{o.onerror=t=>(console.log(t.target.errorCode),e(t)),o.onsuccess=()=>c(o.result)})};export{d as a,u as g};

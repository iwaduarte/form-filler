import{g as P,a as V}from"../../indexedDB.094cbe96.js";import{r as n,g as j,s as O,j as a,a as e,b as v,c as B,d as D,e as R,R as z}from"../../jsx-runtime.9f2e8f40.js";import{f as A,a as G}from"../../form-filler.9e46504d.js";import{s as T,u as L,f as M}from"../../file.38dddfa9.js";const q="/assets/trash.90cc188c.svg",{runtime:H}=chrome||browser,J=()=>{const[o,i]=n.exports.useState([]),[m,u]=n.exports.useState(""),[g,h]=n.exports.useState(""),[w,f]=n.exports.useState(!0),[l,p]=n.exports.useState(null),[b,F]=n.exports.useState(!1),c=async t=>{const r={toggle:f,name:u,value:h},{id:s,value:d,type:y,checked:N}=t.target,I=y==="checkbox"?N:d;y==="checkbox"&&await v(N,"isEnabled"),r[s](I)},x=()=>{u(""),h("")},k=async()=>{i(await B({name:m,value:g})),x()},C=async t=>{i(await D(t))},S=async t=>{const{target:{files:r}}=t,[s]=r;s.type!=="application/pdf"||s.size>1e7||(await V(s),await v(s.name,"file"),L(await M(s)),p(s))},E=()=>H.openOptionsPage();return n.exports.useEffect(()=>{j(null).then(t=>{const{formFiller:r=[],isEnabled:s=!0}=t||{};f(s),i(r)})},[o.length,b]),n.exports.useEffect(()=>{P().then(t=>{if(!t||l&&l.name===t.name&&l.size===t.size)return;const r=document.getElementById("fileInput"),s=new DataTransfer;s.items.add(t),r.files=s.files,p(t)})},[b]),n.exports.useEffect(()=>{O(()=>{F(t=>!t)})},[]),a("div",{className:"py-6 px-5 md:px-10 bg-gray-100 shadow-md text-gray-800 border-gray-400 bg-custom-gradient",children:[a("div",{className:"flex gap-16 justify-between mb-2",children:[a("h1",{className:"text-[32px] font-bold text-gray-700 inline",children:[e("img",{className:"w-8 h-8 mr-[-6px] inline-block",alt:"logo",src:A}),"orm-Filler"]}),a("div",{className:"flex items-center",children:[e("span",{className:"mr-1",children:"OFF"}),a("div",{className:"relative inline-block w-10 align-middle select-none transition duration-200 ease-in",children:[e("input",{id:"toggle",type:"checkbox",name:"toggle",checked:w,onChange:c,className:"toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"}),e("label",{htmlFor:"toggle",className:"toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer text-xs text-gray-700"})]}),e("span",{className:"ml-1",children:"ON"})]})]}),a("div",{className:"properties mb-1 py-2 border-b border-[#ead6d6] border-sky-500",children:[e("h1",{className:"text-gray-800 font-bold text-xl  mb-4",children:"Properties"}),e("ul",{className:"flex flex-col self-center max-h-40 overflow-y-auto",children:o==null?void 0:o.map((t,r)=>{const{name:s,value:d}=t;return a("li",{className:"flex gap-6 py-2 border-y border-gray-300",children:[a("div",{className:"text-left basis-20 text-xs leading-6 font-bold min-w-0 overflow-x-hidden",children:[s,":"]}),a("div",{className:"basis-48 shrink-1 text-xs leading-6 text-left",children:[" ",d]}),e("div",{className:"w-[18px] shrink-1 text-right grow-0 cursor-pointer text-gray-200 ",onClick:()=>C(r),children:e("img",{src:q,alt:"Delete"})})]},r)})})]}),a("div",{className:"my-4",children:[e("span",{className:"text-gray-800  font-bold text-xl mb-4",children:"Add a PDF file (CV/Resume) "}),a("div",{className:"flex gap-3 items-center justify-between",children:[e("input",{id:"fileInput",type:"file",className:"hidden",onChange:S}),a("label",{className:"self-start text-center shrink-0 cursor-pointer bg-[#edf2f7] p-2.5 border rounded-md border-[\xB4#cbd5e0] text-sm text-[#4a5568] hover:bg-[#e2e8f0]",htmlFor:"fileInput",children:[l?"Change":"Choose"," file"]}),e("div",{className:"overflow-hidden whitespace-nowrap overflow-ellipsis",children:l==null?void 0:l.name}),e("a",{id:"saveFile",onClick:()=>T(l),href:"#",children:e("img",{src:G,alt:"Save"})})]})]}),a("div",{className:"mb-6",children:[a("label",{className:"block text-left mb-2",htmlFor:"name",children:[e("span",{className:"text-gray-800 text-xs font-bold ",children:" Field Name:"}),e("input",{id:"name",value:m,onChange:c,className:" text-gray-600 focus:outline-none focus:border focus:border-indigo-700 font-normal w-full h-10 flex items-center pl-3 text-sm border-gray-300 rounded border",placeholder:"(i.e Email, First Name, Last Name)"})]}),a("label",{className:"block text-left mb-2",htmlFor:"name",children:[e("span",{className:"text-gray-800 text-xs font-bold leading-tight tracking-normal",children:"Field Value:"}),e("input",{id:"value",value:g,onChange:c,className:"text-gray-600 focus:outline-none focus:border focus:border-indigo-700  font-normal w-full h-10 flex items-center pl-3 text-sm border-gray-300 rounded border",placeholder:"(i.e Email, First Name, Last Name)"})]})]}),a("div",{className:"flex items-center justify-start w-full",children:[e("button",{onClick:k,className:"focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-700 transition duration-150 ease-in-out hover:bg-indigo-600 bg-indigo-700 rounded text-white px-8 py-2 text-sm",children:"Add"}),e("button",{className:"focus:outline-none focus:ring-2 focus:ring-offset-2  focus:ring-gray-400 ml-3 bg-gray-100 transition duration-150 text-gray-600 ease-in-out hover:border-gray-400 hover:bg-gray-300 border rounded px-8 py-2 text-sm",onClick:x,children:"Clear"})]}),e("a",{className:" hover:bg-indigo-600 hover:text-white text-stone-600 font-bold py-1 px-2 rounded cursor-pointer absolute bottom-0 right-0 mt-2 mr-2",onClick:E,children:"Go to Options"})]})};R.createRoot(document.getElementById("root")).render(e(z.StrictMode,{children:e(J,{})}));
